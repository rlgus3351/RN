<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Kakao 지도 시작하기</title>
</head>

<body>
	<div style="display: flex; flex-direction: row; gap: 50px; grid: 2fr 2fr;">
		<div>
			<h2>바다누리 해양관측조위소</h2>
			<div id="map1" style="width:500px;height:800px;"></div>
		</div>
		<div>
			<h2>바다누리 조위관측소</h2>
			<div id="map2" style="width:500px;height:800px;"></div>
		</div>
		<div>
			<h2>기상청</h2>
			<div id="map3" style="width:500px;height:800px;"></div>
		</div>
		<div>
			<h2>목포대 부이부표 센서</h2>
			<div id="map4" style="width:500px;height:800px;"></div>
		</div>


	</div>
	<script src="https://code.jquery.com/jquery-latest.min.js"></script>
	<script type="text/javascript"
		src="//dapi.kakao.com/v2/maps/sdk.js?appkey=0af781bc7fc98ee8c7f8874b0ba47b38&libraries=LIBRARY"></script>
	<script type="text/javascript" src="./TOdata.json"></script>



	<script>

		let toData = [];
		let moData = [];
		let oData = [];
		let mokpoData = [];

		var container1 = document.getElementById('map1');
		var options1 = {
			center: new kakao.maps.LatLng(33.450701, 126.570667),
			level: 14
		};
		var map1 = new kakao.maps.Map(container1, options1);

		fetch('./TOdata.json')
			.then(res => res.json()) // JSON 데이터를 파싱
			.then(data => {

				toData = data.map(el => ({
					title: el.title,
					latlng: new kakao.maps.LatLng(el.lat, el.long)
				}));
				var imageSrc = "https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png";
				
				for (var i = 0; i < toData.length; i++) {

					// 마커 이미지의 이미지 크기 입니다
					var imageSize = new kakao.maps.Size(24, 35);

					// 마커 이미지를 생성합니다    
					var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize);
						
					
					// 마커를 생성합니다
					var marker1 = new kakao.maps.Marker({
						map: map1, // 마커를 표시할 지도
						position: toData[i].latlng, // 마커를 표시할 위치
						title: toData[i].title, // 마커의 타이틀, 마커에 마우스를 올리면 타이틀이 표시됩니다
						image: markerImage // 마커 이미지 
					});
				}
			})
			.catch(err => console.error('Error fetching TOdata:', err));
			
		
			
		var container2 = document.getElementById('map2');
		var options2 = {
			center: new kakao.maps.LatLng(33.450701, 126.570667),
			level: 14
		};

		var map2 = new kakao.maps.Map(container2, options2);
		// MOdata.json 파일에서 데이터 가져오기
		fetch('./MOdata.json')
			.then(res => res.json()) // JSON 데이터를 파싱
			.then(data => {
				moData = data.map(el => ({
					
					title: el.title,
					latlng: new kakao.maps.LatLng(el.lat, el.long)
				}));
				var imageSrc = "https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png";
				
				for (var i = 0; i < moData.length; i++) {

					// 마커 이미지의 이미지 크기 입니다
					var imageSize = new kakao.maps.Size(24, 35);

					// 마커 이미지를 생성합니다    
					var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize);
						
					
					// 마커를 생성합니다
					var marker2 = new kakao.maps.Marker({
						map: map2, // 마커를 표시할 지도
						position: moData[i].latlng, // 마커를 표시할 위치
						title: moData[i].title, // 마커의 타이틀, 마커에 마우스를 올리면 타이틀이 표시됩니다
						image: markerImage // 마커 이미지 
					});
				}

			})
			.catch(err => console.error('Error fetching MOdata:', err));



		

		var container3 = document.getElementById('map3');
		var options3 = {
			center: new kakao.maps.LatLng(33.450701, 126.570667),
			level: 14
		};
		var map3 = new kakao.maps.Map(container3, options3);

		fetch('./Odata.json')
			.then(res => res.json()) // JSON 데이터를 파싱
			.then(data => {
				oData = data.map(el => ({
					title: el.title,
					latlng: new kakao.maps.LatLng(el.lat, el.long)
				}));
				
				var imageSrc = "https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png";
				
				for (var i = 0; i < oData.length; i++) {
					
					// 마커 이미지의 이미지 크기 입니다
					var imageSize = new kakao.maps.Size(24, 35);

					// 마커 이미지를 생성합니다    
					var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize);
					// 마커를 생성합니다
					var marker2 = new kakao.maps.Marker({
						map: map3, // 마커를 표시할 지도
						position: oData[i].latlng, // 마커를 표시할 위치
						title: oData[i].title, // 마커의 타이틀, 마커에 마우스를 올리면 타이틀이 표시됩니다
						image: markerImage // 마커 이미지 
					});
				}
			})
			.catch(err => console.error('Error fetching MOdata:', err));



		


		var container4 = document.getElementById('map4');
		var options4 = {
			center: new kakao.maps.LatLng(33.450701, 126.570667),
			level: 12
		};
		
		var map4 = new kakao.maps.Map(container4, options4);

		fetch('./mokpo.json')
			.then(res => res.json()) // JSON 데이터를 파싱
			.then(data => {
				
				mokpoData = data.map(el => ({
					title: el.title,
					latlng: new kakao.maps.LatLng(el.lat, el.long)
				}));
				
				var imageSrc = "https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/markerStar.png";
				
				for (var i = 0; i < mokpoData.length; i++) {
					
					// 마커 이미지의 이미지 크기 입니다
					var imageSize = new kakao.maps.Size(24, 35);

					// 마커 이미지를 생성합니다    
					var markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize);
					// 마커를 생성합니다
					var marker4 = new kakao.maps.Marker({
						map: map4, // 마커를 표시할 지도
						position: mokpoData[i].latlng, // 마커를 표시할 위치
						title: mokpoData[i].title, // 마커의 타이틀, 마커에 마우스를 올리면 타이틀이 표시됩니다
						image: markerImage // 마커 이미지 
					});
					
				}

			})
			.catch(err => console.error('Error fetching MOdata:', err));
	</script>
</body>

</html>